(function() {
    'use strict';

    console.log('TamperMonkey script started');

    function performSearch() {
        const text = 'SFARGFE';
        const inputEvent = new Event('input', { bubbles: true });
        
        // Focus on the body to ensure it captures the keystrokes
        document.body.focus();

        // Simulate typing each character
        for (let i = 0; i < text.length; i++) {
            const char = text.charAt(i);
            document.dispatchEvent(new KeyboardEvent('keydown', { key: char, bubbles: true }));
            document.dispatchEvent(new KeyboardEvent('keypress', { key: char, bubbles: true }));
            document.dispatchEvent(new KeyboardEvent('keyup', { key: char, bubbles: true }));
        }

        console.log('Entered text into search input');

        // Simulate pressing the Enter key
        document.dispatchEvent(new KeyboardEvent('keydown', { key: 'Enter', bubbles: true }));
        document.dispatchEvent(new KeyboardEvent('keypress', { key: 'Enter', bubbles: true }));
        document.dispatchEvent(new KeyboardEvent('keyup', { key: 'Enter', bubbles: true }));
        document.dispatchEvent(new Event('change', { bubbles: true }));

        console.log('Simulated Enter key press');
    }

    // Wait for 2 seconds before executing the search action
    setTimeout(() => {
        performSearch();
    }, 2000); // 2-second delay

    console.log('Script execution delayed for 2 seconds');
})();
