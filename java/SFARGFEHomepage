(function() {
    'use strict';

    console.log('TamperMonkey script started');

    function focusAndType() {
        console.log('Focusing and typing into the search input');
        const searchInput = document.querySelector('#search-landing');
        if (searchInput) {
            console.log('Search input found:', searchInput);
            searchInput.focus();

            // Clear the input value first
            searchInput.value = '';

            // Type SFARGFE
            const text = 'SFARGFE';
            for (let i = 0; i < text.length; i++) {
                const char = text.charAt(i);
                searchInput.value += char;
                searchInput.dispatchEvent(new KeyboardEvent('keydown', { key: char, bubbles: true }));
                searchInput.dispatchEvent(new Event('input', { bubbles: true }));
                searchInput.dispatchEvent(new KeyboardEvent('keyup', { key: char, bubbles: true }));
            }

            console.log('Entered text into search input:', searchInput.value);

            // Simulate pressing the Enter key
            searchInput.dispatchEvent(new KeyboardEvent('keydown', { key: 'Enter', bubbles: true }));
            searchInput.dispatchEvent(new KeyboardEvent('keypress', { key: 'Enter', bubbles: true }));
            searchInput.dispatchEvent(new KeyboardEvent('keyup', { key: 'Enter', bubbles: true }));
            searchInput.dispatchEvent(new Event('change', { bubbles: true }));

            console.log('Simulated Enter key press');
        } else {
            console.error('Search input not found');
        }
    }

    // Wait for the page to load and then run the function
    window.addEventListener('load', () => {
        setTimeout(focusAndType, 2000);
    });

    console.log('Script execution delayed for 2 seconds');
})();
